(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42654662"],{"0cb2":function(t,e,n){var r=n("7b0b"),s=Math.floor,a="".replace,i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,o,u,l){var h=n+t.length,f=o.length,d=c;return void 0!==u&&(u=r(u),d=i),a.call(l,d,(function(r,a){var i;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(h);case"<":i=u[a.slice(1,-1)];break;default:var c=+a;if(0===c)return r;if(c>f){var l=s(c/10);return 0===l?r:l<=f?void 0===o[l-1]?a.charAt(1):o[l-1]+a.charAt(1):r}i=o[c-1]}return void 0===i?"":i}))}},"2d3b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.searching(e)}}},[n("div",[n("i",{staticClass:"iconsearch"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",placeholder:"搜索歌手，歌曲，专辑"},domProps:{value:t.keywords},on:{input:[function(e){e.target.composing||(t.keywords=e.target.value)},t.inputing]}})])]),n(t.componentName,{tag:"component",attrs:{keywords:t.keywords},on:{search:t.searchChange,play:function(e){return t.$emit("play",e)}}})],1)},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hotSearch"},[n("p",[t._v("热门搜索")]),n("ul",{staticClass:"m-hotlist"},t._l(t.hotSearchList,(function(e,r){return n("li",{key:r,staticClass:"item",on:{click:function(n){return t.$emit("search",e.searchWord)}}},[t._v(t._s(e.searchWord))])})),0)])},i=[],c={data:function(){return{hotSearchList:[]}},created:function(){var t=this;this.$http.get("/search/hot/detail").then((function(e){t.hotSearchList=e.data.data,console.log(t.hotSearchList)}))}},o=c,u=(n("7686"),n("2877")),l=Object(u["a"])(o,a,i,!1,null,"eb9ab9ee",null),h=l.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"searchSuggest"},[n("ul",[n("p",[t._v("猜你想搜索：")]),t._l(t.suggestList,(function(e){return n("li",{key:e.id,on:{click:function(n){return t.$emit("search",e.name)}}},[n("span",[t._v(t._s(e.name))]),e.artists?n("span",[t._v("作者："+t._s(e.artists[0].name))]):t._e()])}))],2)])},d=[],g=(n("99af"),{props:["keywords"],created:function(){console.log("created==>",this.keywords),this.getSuggest(this.keywords)},data:function(){return{suggestList:[],isSuccess:!0,t:null}},watch:{keywords:function(t){this.getSuggest(t)}},methods:{getSuggest:function(t){var e=this;clearTimeout(this.t),this.t=setTimeout((function(){e.isSuccess=!1,e.$http.get("/search/suggest",{params:{keywords:t}}).then((function(t){for(var n=t.data.result.order,r=[],s=0;s<n.length;s++)r=r.concat(t.data.result[n[s]]);e.suggestList=r,e.isSuccess=!0})).catch((function(){e.suggestList=[]}))}),100)}}}),p=g,v=(n("f344"),Object(u["a"])(p,f,d,!1,null,"0a571d9e",null)),m=v.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"songList"},[n("p",{staticStyle:{"padding-left":"10px","font-size":"16px"}},[t._v("搜索结果：")]),0!=t.songs.length?t._l(t.songs,(function(e){return n("div",{key:e.id,staticClass:"item"},[n("div",{staticClass:"wrap"},[n("div",{staticClass:"left"},[n("h5",{domProps:{innerHTML:t._s(t.$options.filters.highlight(e.name,t.keywords))}}),n("p",[n("i",{directives:[{name:"show",rawName:"v-show",value:e.song&&e.song.privilege&&999e3==e.privilege.playMaxbr,expression:"item.song&&item.song.privilege&&item.privilege.playMaxbr == 999000"}],staticClass:"sq"}),e.artists?n("span",[t._v(t._s(e.artists[0].name))]):t._e()])]),n("div",{staticClass:"right"},[n("span",{staticClass:"playBtn",on:{click:function(n){return t.$emit("play",e)}}})])])])})):t._e()],2)},y=[],w=(n("5319"),n("ac1f"),{name:"SearchResult",props:["keywords"],data:function(){return{songs:[]}},filters:{addZero:function(t){return t<10?+t:t},highlight:function(t,e){var n=String(t).replace(e,'<span style="color:red">'+e+"</span>");return n}},created:function(){var t=this;this.$http.get("/search",{params:{keywords:this.keywords}}).then((function(e){t.songs=e.data.result.songs,console.log(t.songs)}))}}),_=w,k=(n("513c"),Object(u["a"])(_,S,y,!1,null,"336a92de",null)),b=k.exports,x={name:"Search",data:function(){return{componentName:"HotSearch",keywords:""}},components:{HotSearch:h,SearchSuggest:m,SearchResult:b},methods:{inputing:function(t){""==t.target.value?this.componentName="HotSearch":this.componentName="SearchSuggest"},searching:function(){this.componentName="SearchResult"},searchChange:function(t){console.log("search事件",t),this.keywords=t,this.componentName="SearchResult"}}},$=x,C=(n("59f1"),Object(u["a"])($,r,s,!1,null,"ad783a78",null));e["default"]=C.exports},"513c":function(t,e,n){"use strict";n("c8cd")},5319:function(t,e,n){"use strict";var r=n("d784"),s=n("825a"),a=n("50c4"),i=n("a691"),c=n("1d80"),o=n("8aa5"),u=n("0cb2"),l=n("14c3"),h=Math.max,f=Math.min,d=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=r.REPLACE_KEEPS_$0,v=g?"$":"$0";return[function(n,r){var s=c(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,s,r):e.call(String(s),n,r)},function(t,r){if(!g&&p||"string"===typeof r&&-1===r.indexOf(v)){var c=n(e,t,this,r);if(c.done)return c.value}var m=s(t),S=String(this),y="function"===typeof r;y||(r=String(r));var w=m.global;if(w){var _=m.unicode;m.lastIndex=0}var k=[];while(1){var b=l(m,S);if(null===b)break;if(k.push(b),!w)break;var x=String(b[0]);""===x&&(m.lastIndex=o(S,a(m.lastIndex),_))}for(var $="",C=0,E=0;E<k.length;E++){b=k[E];for(var L=String(b[0]),N=h(f(i(b.index),S.length),0),T=[],R=1;R<b.length;R++)T.push(d(b[R]));var A=b.groups;if(y){var M=[L].concat(T,N,S);void 0!==A&&M.push(A);var P=String(r.apply(void 0,M))}else P=u(L,S,N,T,A,r);N>=C&&($+=S.slice(C,N)+P,C=N+L.length)}return $+S.slice(C)}]}))},"59f1":function(t,e,n){"use strict";n("70e9")},"70e9":function(t,e,n){},7686:function(t,e,n){"use strict";n("8001")},8001:function(t,e,n){},8418:function(t,e,n){"use strict";var r=n("c04e"),s=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var i=r(e);i in t?s.f(t,i,a(0,n)):t[i]=n}},"99af":function(t,e,n){"use strict";var r=n("23e7"),s=n("d039"),a=n("e8b5"),i=n("861d"),c=n("7b0b"),o=n("50c4"),u=n("8418"),l=n("65f0"),h=n("1dde"),f=n("b622"),d=n("2d00"),g=f("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",m=d>=51||!s((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),S=h("concat"),y=function(t){if(!i(t))return!1;var e=t[g];return void 0!==e?!!e:a(t)},w=!m||!S;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,r,s,a,i=c(this),h=l(i,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(a=-1===e?i:arguments[e],y(a)){if(s=o(a.length),f+s>p)throw TypeError(v);for(n=0;n<s;n++,f++)n in a&&u(h,f,a[n])}else{if(f>=p)throw TypeError(v);u(h,f++,a)}return h.length=f,h}})},c8cd:function(t,e,n){},ee0f:function(t,e,n){},f344:function(t,e,n){"use strict";n("ee0f")}}]);
//# sourceMappingURL=chunk-42654662.dbac087d.js.map