{"remainingRequest":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\粤嵌H5\\Vue-Cli\\music\\src\\components\\SearchSuggest.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\src\\components\\SearchSuggest.vue","mtime":1616572738856},{"path":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ2tleXdvcmRzJ10sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdjcmVhdGVkPT0+JywgdGhpcy5rZXl3b3Jkcyk7CiAgICB0aGlzLmdldFN1Z2dlc3QodGhpcy5rZXl3b3Jkcyk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VnZ2VzdExpc3Q6IFtdLAogICAgICBpc1N1Y2Nlc3M6IHRydWUsCiAgICAgIHQ6IG51bGwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAga2V5d29yZHM6IGZ1bmN0aW9uIGtleXdvcmRzKE5ld3ZhbHVlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJrZXl3b3JkcyIsTmV3dmFsdWUpOwogICAgICB0aGlzLmdldFN1Z2dlc3QoTmV3dmFsdWUpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0U3VnZ2VzdDogZnVuY3Rpb24gZ2V0U3VnZ2VzdChrZXl3b3JkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyBpZighdGhpcy5pc1N1Y2Nlc3N8fGtleXdvcmQ9PScnKSByZXR1cm47CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnQpOwogICAgICB0aGlzLnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pc1N1Y2Nlc3MgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMuJGh0dHAuZ2V0KCcvc2VhcmNoL3N1Z2dlc3QnLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAga2V5d29yZHM6IGtleXdvcmQKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICB2YXIgb3JkZXJzID0gZC5kYXRhLnJlc3VsdC5vcmRlcjsKICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGQuZGF0YS5yZXN1bHRbb3JkZXJzW2ldXSk7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coZCk7CiAgICAgICAgICBjb25zb2xlLmxvZyhkLmRhdGEpOyAvLyBjb25zb2xlLmxvZyhkLmRhdGEucmVzdWx0KTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGQuZGF0YS5yZXN1bHQub3JkZXIpOwogICAgICAgICAgLy8gY29uc29sZS5sb2cob3JkZXJzKTsKCiAgICAgICAgICBfdGhpcy5zdWdnZXN0TGlzdCA9IHJlc3VsdDsKICAgICAgICAgIF90aGlzLmlzU3VjY2VzcyA9IHRydWU7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuc3VnZ2VzdExpc3QgPSBbXTsKICAgICAgICB9KTsKICAgICAgfSwgMTAwKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["SearchSuggest.vue"],"names":[],"mappings":";;;;;;;;;AASA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,UAAA,CADA;AAEA,EAAA,OAFA,qBAEA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,YAAA,EAAA,KAAA,QAAA;AACA,SAAA,UAAA,CAAA,KAAA,QAAA;AACA,GALA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,IAFA;AAGA,MAAA,CAAA,EAAA;AAHA,KAAA;AAKA,GAZA;AAaA,EAAA,KAAA,EAAA;AACA,IAAA,QADA,oBACA,QADA,EACA;AACA;AACA,WAAA,UAAA,CAAA,QAAA;AACA;AAJA,GAbA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,OADA,EACA;AAAA;;AACA;AACA,MAAA,YAAA,CAAA,KAAA,CAAA,CAAA;AACA,WAAA,CAAA,GAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,KAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA;AACA,UAAA,MAAA,EAAA;AACA,YAAA,QAAA,EAAA;AADA;AADA,SAAA,EAIA,IAJA,CAIA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,GAAA,CAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA;AACA,cAAA,MAAA,GAAA,EAAA;;AACA,eAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,MAAA,GAAA,MAAA,CAAA,MAAA,CAAA,CAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA,IAAA,EAPA,CAQA;AACA;AACA;;AACA,UAAA,KAAA,CAAA,WAAA,GAAA,MAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,SAjBA,EAiBA,KAjBA,CAiBA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,GAAA,EAAA;AACA,SAnBA;AAoBA,OAtBA,EAsBA,GAtBA,CAAA;AAwBA;AA5BA;AAnBA,CAAA","sourcesContent":["<template>\r\n    <div class=\"searchSuggest\">\r\n        <ul>\r\n            <li v-for=\"item in suggestList\" :key=\"item.id\" @click=\"$emit('search',item.name)\"><i class=\"icon\"></i><span>{{item.name}}</span></li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: ['keywords'],\r\n    created(){\r\n        console.log('created==>',this.keywords);\r\n        this.getSuggest(this.keywords);\r\n    },\r\n    data(){\r\n        return{\r\n            suggestList: [],\r\n            isSuccess: true,\r\n            t:null\r\n        }\r\n    },\r\n    watch:{\r\n        keywords(Newvalue){\r\n            // console.log(\"keywords\",Newvalue);\r\n            this.getSuggest(Newvalue);\r\n        }\r\n    },\r\n    methods:{\r\n        getSuggest(keyword){\r\n            // if(!this.isSuccess||keyword=='') return;\r\n            clearTimeout(this.t)\r\n            this.t = setTimeout(()=>{\r\n                this.isSuccess = false;\r\n                this.$http.get('/search/suggest',{\r\n                    params: {\r\n                        keywords: keyword,\r\n                    }\r\n                }).then(d=>{\r\n                    var orders = d.data.result.order;\r\n                    let result = [];\r\n                    for(let i = 0; i<orders.length; i++){\r\n                        result = result.concat(d.data.result[orders[i]]);\r\n                    }\r\n                    console.log(d);\r\n                    console.log(d.data);\r\n                    // console.log(d.data.result);\r\n                    // console.log(d.data.result.order);\r\n                    // console.log(orders);\r\n                    this.suggestList = result;\r\n                    this.isSuccess = true;\r\n                }).catch(()=>{\r\n                    this.suggestList = [];\r\n                });\r\n            },100)\r\n            \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .searchSuggest{\r\n        ul{\r\n            li{\r\n                list-style: none;\r\n                text-decoration: none;\r\n                border-bottom: 1px solid rgba(0,0,0,0.1);\r\n                padding-left: 10px;\r\n                height: 45px;\r\n                align-items: center;\r\n                i.icon{\r\n                    width: 13px;\r\n                    height: 13px;\r\n                    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==);\r\n                    \r\n                }\r\n                span{\r\n                    padding-left: 10px;\r\n                    flex: 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>"],"sourceRoot":"src/components"}]}