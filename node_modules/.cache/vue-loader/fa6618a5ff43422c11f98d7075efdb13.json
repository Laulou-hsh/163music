{"remainingRequest":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\粤嵌H5\\Vue-Cli\\music\\src\\components\\SearchSuggest.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\src\\components\\SearchSuggest.vue","mtime":1616644656337},{"path":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code\\粤嵌H5\\Vue-Cli\\music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHM6IFsna2V5d29yZHMnXSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIGNvbnNvbGUubG9nKCdjcmVhdGVkPT0+Jyx0aGlzLmtleXdvcmRzKTsNCiAgICAgICAgdGhpcy5nZXRTdWdnZXN0KHRoaXMua2V5d29yZHMpOw0KICAgIH0sDQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm57DQogICAgICAgICAgICBzdWdnZXN0TGlzdDogW10sDQogICAgICAgICAgICBpc1N1Y2Nlc3M6IHRydWUsDQogICAgICAgICAgICB0Om51bGwNCiAgICAgICAgfQ0KICAgIH0sDQogICAgd2F0Y2g6ew0KICAgICAgICBrZXl3b3JkcyhOZXd2YWx1ZSl7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygia2V5d29yZHMiLE5ld3ZhbHVlKTsNCiAgICAgICAgICAgIHRoaXMuZ2V0U3VnZ2VzdChOZXd2YWx1ZSk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICBnZXRTdWdnZXN0KGtleXdvcmQpew0KICAgICAgICAgICAgLy8gaWYoIXRoaXMuaXNTdWNjZXNzfHxrZXl3b3JkPT0nJykgcmV0dXJuOw0KICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudCkNCiAgICAgICAgICAgIHRoaXMudCA9IHNldFRpbWVvdXQoKCk9PnsNCiAgICAgICAgICAgICAgICB0aGlzLmlzU3VjY2VzcyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuJGh0dHAuZ2V0KCcvc2VhcmNoL3N1Z2dlc3QnLHsNCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3Jkczoga2V5d29yZCwNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZD0+ew0KICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJzID0gZC5kYXRhLnJlc3VsdC5vcmRlcjsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpPG9yZGVycy5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGQuZGF0YS5yZXN1bHRbb3JkZXJzW2ldXSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZCk7DQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGQuZGF0YSk7DQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGQuZGF0YS5yZXN1bHQpOw0KICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkLmRhdGEucmVzdWx0Lm9yZGVyKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cob3JkZXJzKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWdnZXN0TGlzdCA9IHJlc3VsdDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1N1Y2Nlc3MgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpPT57DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3VnZ2VzdExpc3QgPSBbXTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0sMTAwKQ0KICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["SearchSuggest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"SearchSuggest.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"searchSuggest\">\r\n        <ul>\r\n            <p>猜你想搜索：</p>\r\n            <li v-for=\"item in suggestList\" :key=\"item.id\" @click=\"$emit('search',item.name)\">\r\n                <!-- <i class=\"icon\"></i> -->\r\n                <span>{{item.name}}</span>\r\n                <span v-if=\"item.artists\">作者：{{ item.artists[0].name}}</span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: ['keywords'],\r\n    created(){\r\n        console.log('created==>',this.keywords);\r\n        this.getSuggest(this.keywords);\r\n    },\r\n    data(){\r\n        return{\r\n            suggestList: [],\r\n            isSuccess: true,\r\n            t:null\r\n        }\r\n    },\r\n    watch:{\r\n        keywords(Newvalue){\r\n            // console.log(\"keywords\",Newvalue);\r\n            this.getSuggest(Newvalue);\r\n        }\r\n    },\r\n    methods:{\r\n        getSuggest(keyword){\r\n            // if(!this.isSuccess||keyword=='') return;\r\n            clearTimeout(this.t)\r\n            this.t = setTimeout(()=>{\r\n                this.isSuccess = false;\r\n                this.$http.get('/search/suggest',{\r\n                    params: {\r\n                        keywords: keyword,\r\n                    }\r\n                }).then(d=>{\r\n                    var orders = d.data.result.order;\r\n                    let result = [];\r\n                    for(let i = 0; i<orders.length; i++){\r\n                        result = result.concat(d.data.result[orders[i]]);\r\n                    }\r\n                    // console.log(d);\r\n                    // console.log(d.data);\r\n                    // console.log(d.data.result);\r\n                    // console.log(d.data.result.order);\r\n                    // console.log(orders);\r\n                    this.suggestList = result;\r\n                    this.isSuccess = true;\r\n                }).catch(()=>{\r\n                    this.suggestList = [];\r\n                });\r\n            },100)\r\n            \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .searchSuggest{\r\n        ul{\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            p{\r\n                padding-left: 10px;\r\n            }\r\n            li{\r\n                display: flex;\r\n                list-style: none;\r\n                text-decoration: none;\r\n                border-bottom: 1px solid rgba(0,0,0,0.1);\r\n                padding-left: 10px;\r\n                width: 90%;\r\n                height: 60px;\r\n                align-items: center;\r\n                .icon{\r\n                    width: 13px;\r\n                    height: 13px;\r\n                    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==);\r\n                    \r\n                }\r\n                span:first-child{\r\n                    margin: 0px 5px;\r\n                    padding-left: 10px;\r\n                    flex: 7;\r\n                }\r\n                span:nth-child(2){\r\n                    flex: 5;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>"]}]}